<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>FarmCast Dashboard</title>

    <link rel="stylesheet" href="{{ url_for('static', filename='CSS/dashboard.css') }}">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.css">
    <link rel="stylesheet"
        href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-daterangepicker/3.1.0/daterangepicker.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.29.1/moment.min.js"></script>
    <script
        src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-daterangepicker/3.1.0/daterangepicker.min.js"></script>
</head>

<body>
    <div class="header">
        <div class="logo-container">
            <a href="{{ url_for('dashboard') }}"><img src="{{ url_for('static', filename='images/farmlogo.png') }}"
                    alt="FarmCast Logo" class="logo"></a>
            <h3 class="header-title">FarmCast</h3>
        </div>
        <nav class="nav-menu">
            <a href="{{ url_for('dashboard') }}">Home</a>
            <div class="dropdown">
                <button class="dropbtn">Activities</button>
                <div class="dropdown-content">
                    <a href="{{ url_for('add_activity') }}">Add New Activity</a>
                    <a href="{{ url_for('view_activities') }}">View Activities</a>
                </div>
            </div>
            <a href="#">Settings</a>
            <a href="{{ url_for('logout') }}" id="logout-button">Logout</a>
        </nav>
    </div>
    <div class="container">
        <div class="sidebar-left">
            <div class="profile">
                <h2>Profile</h2>
                <div class="profile-details">
                    <!-- Profile details will be populated here -->
                </div>
                <button id="add-farm-button">Add Farm</button>
            </div>

            <div id="add-farm-form" style="display: none;">
                <h2>Add New Farm</h2>
                <form id="farm-details-form">
                    <label for="farm-name">Farm Name:</label>
                    <input type="text" id="farm-name" name="farm-name" required><br>
                    <label for="farm-location">Farm Location:</label>
                    <input type="text" id="farm-location" name="farm-location" required><br>
                    <label for="farm-coordinates">Farm Coordinates:</label>
                    <input type="text" id="farm-coordinates" name="farm-coordinates" required><br>
                    <label for="crop-name">Crop Name:</label>
                    <input type="text" id="crop-name" name="crop-name" required><br>
                    <label for="crop-species">Crop Species:</label>
                    <input type="text" id="crop-species" name="crop-species" required><br>
                    <label for="planting-season">Planting Season:</label>
                    <input type="text" id="planting-season" name="planting-season" required><br>
                    <label for="expected-harvest">Expected Harvest:</label>
                    <input type="text" id="expected-harvest" name="expected-harvest" required><br>
                    <label for="crop-notes">Crop Notes:</label>
                    <textarea id="crop-notes" name="crop-notes"></textarea><br>
                    <button type="submit" class="save-farm">Save Farm</button>
                </form>
            </div>
        </div>

        <div class="main-content">
            <div class="activities">
                <h2>Farm Activities</h2>
                <ul id="activities-list">
                    <!-- Activities will be listed here -->
                </ul>
            </div>

            <div class="todo-list">
                <h2>To-do List</h2>
                <div class="sort-options">
                    <label for="sort-by">Sort by:</label>
                    <select id="sort-by" onchange="sortTodoList()">
                        <option value="undone">Undone</option>
                        <option value="deadline">Deadline</option>
                        <option value="date">Date</option>
                    </select>
                </div>
                <ul id="todo-list">
                    <!-- To-do items will be listed here -->
                </ul>
            </div>

            <div class="crop-info">
                <h2>Crop Information</h2>
                <div class="crop-info-content">
                    <!-- Crop info will be populated here -->
                </div>
            </div>
        </div>
        <div class="weather-summary">
            <div class="weather-summary" id="today-weather">
                <h2 class="weather-title">Today's Weather</h2>
                <img id="current-weather-img" src="" alt="Weather Image">
                <div>
                    <p id="current-weather-description"></p>
                    <p id="current-temperature"></p>
                    <p id="current-humidity"></p>
                    <p id="current-wind"></p>
                </div>
            </div>
        </div>
    </div>
    <div class="weather-summaries">
        <div class="weather-summary" id="three-hour-forecast">
            <h2 class="weather-title">3-hour Forecast</h2>
            <!-- 3-hour forecast segments will be inserted here by JavaScript -->
        </div>
    </div>
    <script src="{{ url_for('static', filename='JS/dashboard.js') }}"></script>
    <script src="{{ url_for('static', filename='JS/activities.js') }}"></script>
    <script src="{{ url_for('static', filename='logout.js') }}"></script>
</body>

</html>